<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.togest.dao.CheckParamDao">
	<resultMap id="BaseResultMap" type="com.togest.domain.CheckParamDTO">
		<result column="id" property="id" />
		<result column="name" property="name" />
		<result column="code" property="code" />
		<result column="sort" property="sort" />
	</resultMap>

	<sql id="Base_Column_List">
		id, name, code,sort
	</sql>

	<select id="getByKey" resultMap="BaseResultMap" parameterType="java.lang.String">
		select
		<include refid="Base_Column_List" />
		from
		6c_param
		where
		id = #{id} and del_flag=0
	</select>
	<select id="getByEntity" parameterType="com.togest.domain.CheckParamDTO"
		resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from
		6c_param
		<where>
			<if test="name != null ">
				name=#{name}
			</if>
			<if test="code != null ">
				code=#{code}
			</if>
			and del_flag=0
		</where>
	</select>
	<select id="getListByKeys" resultMap="BaseResultMap"
		parameterType="java.util.List">
		select
		<include refid="Base_Column_List" />
		from
		6c_param
		<where>
			id in
			<foreach collection="ids" item="item" index="index" open="("
				separator="," close=")">#{item}</foreach>
			and del_flag=0
		</where>
	</select>

	<select id="findAllList" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from
		6c_param

		where del_flag=0
		order by sort
	</select>

	<select id="findList" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from
		6c_param
		<where>
			<if test="name != null ">
				name like '%${name}%'
			</if>
			<if test="code != null ">
				code=#{code}
			</if>

			and del_flag=0
		</where>
		order by sort
	</select>

	<insert id="insert" parameterType="com.togest.domain.CheckParamDTO">
		insert into 6c_param
		(id, name, code,del_flag,create_ip,
		create_by,
		create_date
		<if test="sort!=null or sort==0">,sort</if>
		)
		values
		(#{id}, #{name},
		#{code},
		#{delFlag},#{createIp,},
		#{createBy},
		current_timestamp
		<if test="sort!=null or sort==0">,#{sort}</if>
		)
	</insert>

	<update id="update" parameterType="com.togest.domain.CheckParamDTO">
		update 6c_param
		set
		<if test="sort!=null or sort==0">sort=#{sort},</if>
		name = #{name},
		code = #{code},
		update_ip = #{updateIp},
		update_by =
		#{updateBy},
		update_date = current_timestamp

		where
		id = #{id}
	</update>

	<update id="deleteFalse" parameterType="com.togest.domain.CheckParamDTO">
		update
		6c_param
		set
		del_flag=1,
		delete_ip = #{deleteIp},
		delete_by = #{deleteBy},
		delete_date = current_timestamp
		where
		id = #{id} and del_flag=0
	</update>

	<delete id="deleteByKey" parameterType="java.lang.String">
		delete from
		6c_param
		where
		id = #{id}
		and del_flag=0
	</delete>

	<update id="deleteFalses" parameterType="java.util.Map">
		update 6c_param set
		del_flag=1,delete_ip = #{deleteIp},delete_by=#{deleteBy},delete_date=current_timestamp
		where id
		in
		<foreach item="item" collection="ids" separator="," open="("
			close=")" index="">
			#{item}
		</foreach>
	</update>
</mapper>